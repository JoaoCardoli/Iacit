<!-- Content Header (Page header) -->
<div class="content-header" style="padding: 10px;">
  <div class="container-fluid">

    <div class="row mb-2">

      <div class="col-sm-8">
        <h1 class="m-0"></h1>
      </div><!-- /.col -->

      <div class="col-sm-4">


        <h1 th:text="${dataLimiteInicial}"></h1>
        <h1 th:text="${dataLimiteFinal}"></h1>

      </div><!-- /.col -->

    </div><!-- /.row -->

  </div><!-- /.container-fluid -->
</div>
<!-- /.content-header -->

<!-- Main content -->
<section class="content">
  <!-- PLOTAR GRAFICO 1 AQUI -->
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-sm-12">
        <div class=" card mt-6 ">

          <canvas id="myChart3"></canvas>

          <!-- SCRIPT TEMPERATURA -->
          <script th:inline="javascript">

            //RECEBE O OBJETO JAVA AQUI
            var rangeTemperatura = [[${ rangeTemperatura }]];

            //DEFINO O CAMPO DESSE OBJETO
            var rangeTemperatura_x = rangeTemperatura.map(x => x["datahoraCaptacao"])
            var rangeTemperaturaMax = rangeTemperatura.map(x => x["temperaturaMax"])
            var rangeTemperaturaMin = rangeTemperatura.map(x => x["temperaturaMin"])
            var rangeTemperaturaAr = rangeTemperatura.map(x => x["temperaturaAr"])
            var rangeTemperaturaPontoOrvalho = rangeTemperatura.map(x => x["temperaturaPontoOrvalho"])
            var rangeTemperaturaOrvalhoMin = rangeTemperatura.map(x => x["temperaturaOrvalhoMin"])
            var rangeTemperaturaOrvalhoMax = rangeTemperatura.map(x => x["temperaturaOrvalhoMax"])
              < script src = "https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js" ></script>

          <script>
                            const ctx3 = document.getElementById('myChart3');
            const myChart3 = new Chart(ctx3, {
              type: 'line',
              data: {
                //WHILE X
                labels: rangeTemperatura_x,

                //Temperatura Maxima
                datasets: [
                  {
                    label: 'Temp Max',
                    data: rangeTemperaturaMax,
                    backgroundColor: [
                      'rgba(0, 0, 0, 0)'

                    ],
                    borderColor: [
                      'rgba(200, 84, 155, 1)',
                    ],
                    borderWidth: 2,
                    fill: 1

                  },

                  //Temperatura Minima
                  {
                    label: 'Temp Min',
                    data: rangeTemperaturaMin,
                    backgroundColor: [
                      'rgba(0, 0, 0, 0)'

                    ],
                    borderColor: [
                    'rgba(81, 142, 201, 1)',],
                    borderWidth: 2
                  },


                  //Temperatura Ar
                  {
                    label: 'Temp Ar',
                    data: rangeTemperaturaAr,
                    backgroundColor: [
                      'rgba(0, 0, 0, 0)'

                    ],
                    borderColor: [
                      'rgba(238, 169, 35, 1)',],
                    borderWidth: 2
                  },

                  //Temperatura PontoOrvalho
                  {
                    label: 'Temp PontoOrvalho',
                    data: rangeTemperaturaPontoOrvalho,
                    backgroundColor: [
                      'rgba(0, 0, 0, 0)'

                    ],
                    borderColor: [
                    'rgba(215, 38, 87, 1)',
                    ],
                    borderWidth: 2
                  },

                  //Temperatura OrvalhoMin
                  {
                    label: 'Temp OrvalhoMin',
                    data: rangeTemperaturaOrvalhoMin,
                    backgroundColor: [
                      'rgba(0, 0, 0, 0)'

                    ],
                    borderColor: [
                    'rgba(8, 128, 123, 1)'],
                    borderWidth: 2
                  },

                  //Temperatura OrvalhoMax
                  {
                    label: 'Temp OrvalhoMax',
                    data: rangeTemperaturaOrvalhoMax,
                    backgroundColor: [
                      'rgba(0, 0, 0, 0)'

                    ],
                    borderColor: [
                    'rgba(73, 80, 162, 1)'],
                    borderWidth: 2
                  }


                ],
              },
              options: {
                scales: {
                  y: {
                    beginAtZero: true
                  }
                }
              }
            });

          </script>

        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-sm-8">

        <div class=" card mt-6 ">


          <canvas id="myChart5" width="400" height="200"></canvas>

          <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

          <script>
            const ctx5 = document.getElementById('myChart5');
            const myChart5 = new Chart(ctx5, {
              type: 'bar',
              data: {
                //WHILE X
                labels: rangeTemperatura_x,

                //Temperatura Maxima
                datasets: [
                  {
                    label: 'Temp Max',
                    data: rangeTemperaturaMax,
                    backgroundColor: color => {
                      console.log(color)
                      let colors = color.index > 3 ? 'rgba(200, 84, 155, 1)' :'rgba(200, 84, 155, 1)';
                      return colors;
                    },
                    borderColor: color => {
                      console.log(color)
                      let colors = color.index > 3 ? 'rgba(200, 84, 155, 1)' : 'rgba(200, 84, 155, 1)';
                      return colors;
                    },
                    borderWidth: 1,


                  },

                  //Temperatura Minima
                  {
                    label: 'Temp Min',
                    data: rangeTemperaturaMin,

                    backgroundColor: color => {
                      console.log(color)
                      let colors = color.index > 3 ? 'rgba(81, 142, 201, 1)' : 'rgba(81, 142, 201, 1)';
                      return colors;
                    },
                    borderColor: color => {
                      console.log(color)
                      let colors = color.index > 3 ? 'rgba(81, 142, 201, 1)' : 'rgba(81, 142, 201, 1)';
                      return colors;
                    },
                    borderWidth: 1,


                  },



                  //Temperatura Ar
                  {
                    label: 'Temp Ar',
                    data: rangeTemperaturaAr,

                    backgroundColor: color => {
                      console.log(color)
                      let colors = color.index > 3 ?  'rgba(238, 169, 35, 1)' :  'rgba(238, 169, 35, 1)';
                      return colors;
                    },
                    borderColor: color => {
                      console.log(color)
                      let colors = color.index > 3 ?  'rgba(238, 169, 35, 1)' :  'rgba(238, 169, 35, 1)';
                      return colors;
                    },
                    borderWidth: 1,


                  },


                  //Temperatura PontoOrvalho
                  {
                    label: 'Temp PontoOrvalho',
                    data: rangeTemperaturaPontoOrvalho,

                    backgroundColor: color => {
                      console.log(color)
                      let colors = color.index > 3 ? 'rgba(215, 38, 87, 1)' : 'rgba(215, 38, 87, 1)';
                      return colors;
                    },
                    borderColor: color => {
                      console.log(color)
                      let colors = color.index > 3 ? 'rgba(215, 38, 87, 1)' : 'rgba(215, 38, 87, 1)';
                      return colors;
                    },
                    borderWidth: 1,


                  },


                  //Temperatura OrvalhoMin
                  {
                    label: 'Temp OrvalhoMin',
                    data: rangeTemperaturaOrvalhoMin,

                    backgroundColor: color => {
                      console.log(color)
                      let colors = color.index > 3 ? 'rgba(8, 128, 123, 1)' : 'rgba(8, 128, 123, 1)';
                      return colors;
                    },
                    borderColor: color => {
                      console.log(color)
                      let colors = color.index > 3 ? 'rgba(8, 128, 123, 1)' : 'rgba(8, 128, 123, 1)';
                      return colors;
                    },
                    borderWidth: 1,


                  },


                  //Temperatura OrvalhoMax
                  {
                    label: 'Temp OrvalhoMax',
                    data: rangeTemperaturaOrvalhoMax,

                    backgroundColor: color => {
                      console.log(color)
                      let colors = color.index > 3 ? 'rgba(73, 80, 162, 1)' : 'rgba(73, 80, 162, 1)';
                      return colors;
                    },
                    borderColor: color => {
                      console.log(color)
                      let colors = color.index > 3 ? 'rgba(73, 80, 162, 1)' : 'rgba(73, 80, 162, 1)';
                      return colors;
                    },
                    borderWidth: 1,


                  },



                ],
              },
              options: {
                scales: {
                  y: {
                    beginAtZero: true
                  }
                }
              }
            });

          </script>
        </div>
      </div>
    </div>

</section>
<!-- /.Left col -->

<!-- right col (We are only adding the ID to make the widgets sortable)-->

<section class="col-lg-5 connectedSortable">





</section>
<!-- right col -->

</div>
<!-- /.row (main row) -->

</div><!-- /.container-fluid -->

</section>